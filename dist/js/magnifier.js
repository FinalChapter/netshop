"use strict";function magnifier(t){this.ele=document.querySelector(t),this.show=this.ele.querySelector(".show"),this.list=this.ele.querySelector(".list"),this.enlarge=this.ele.querySelector(".enlarge"),this.mask=this.ele.querySelector(".mask"),this.showWidth=this.show.clientWidth,this.showHeight=this.show.clientHeight,this.largeWidth=parseInt(window.getComputedStyle(this.enlarge).width),this.largeHeight=parseInt(window.getComputedStyle(this.enlarge).height),this.bgWidth=parseInt(window.getComputedStyle(this.enlarge).backgroundSize.split(" ")[0]),this.bgHeight=parseInt(window.getComputedStyle(this.enlarge).backgroundSize.split(" ")[1]),this.init()}magnifier.prototype.init=function(){this.masksize(),this.moveinto(),this.move(),this.change(),console.log(this.showHeight)},magnifier.prototype.masksize=function(){this.maskWidth=this.largeWidth*this.showWidth/this.bgWidth,this.maskHeight=this.largeHeight*this.showHeight/this.bgHeight,this.mask.style.width=this.maskWidth+"px",this.mask.style.height=this.maskHeight+"px"},magnifier.prototype.moveinto=function(){var t=this;this.show.addEventListener("mouseover",function(){t.mask.style.display="block",t.enlarge.style.display="block"}),this.show.addEventListener("mouseout",function(){t.mask.style.display="none",t.enlarge.style.display="none"})},magnifier.prototype.move=function(){var i=this;this.show.addEventListener("mousemove",function(t){var e=(t=t||window.event).offsetX-i.maskWidth/2,t=t.offsetY-i.maskHeight/2;e<=0&&(e=0),t<=0&&(t=0),e>=i.showWidth-i.maskWidth&&(e=i.showWidth-i.maskWidth),t>=i.showHeight-i.maskHeight&&(t=i.showHeight-i.maskHeight),i.mask.style.top=t+"px",i.mask.style.left=e+"px";e=e*i.largeWidth/i.maskWidth,t=t*i.largeHeight/i.maskHeight;i.enlarge.style.backgroundPosition="-".concat(e,"px -").concat(t,"px")})},magnifier.prototype.change=function(){var h=this;this.list.addEventListener("click",function(t){var e,i=(t=t||window.event).target||t.srcElement;"IMG"===i.nodeName&&(console.log("点击率"),e=i.getAttribute("show"),t=i.getAttribute("enlarge"),console.log(e),h.show.firstElementChild.src=e,h.enlarge.style.backgroundImage="url(".concat(t,")"));for(var s=0;s<h.list.children.length;s++)h.list.children[s].classList.remove("active");i.parentElement.classList.add("active")})};